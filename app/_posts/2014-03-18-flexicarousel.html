---
layout: full_screen
title:  "Flexicarousel"
name: "Flexicarousel"
date:   2014-03-05 16:48:21
categories: widget
snippet: "A carousel that'll dynamically adapt its width: it will grow or shrink alongside a site thatâ€™s resizing via css media queries. Uses CSS3 transforms for its transitions"
tags:
- carousel
- javascript
- jquery
- mobile
- widget
---


<h2>About</h2>
<p>A flexible carousel that works on both desktop and mobile devices, and is compleletely responsive. Additionally, there is a strict separation
of state and style. That is to say, javascript maintains the state of the carousel, while the CSS is responsible for the presentation and display
of this state</p>

<h3>Problem</h3>
<p>A carousel may work fine on desktop, where styles are added or removed by the Javascript causing the position of the carousel's slides to update
accordingly. Different styles can allow for a variety of interesting transitions and effects using CSS3 transforms and transitions. However,
this paradigm suffers on mobile, where touch interactions and continuous control over a slide's position (ie. via dragging) are desired.
Touch-enabled carousels usually achieve this by positioning a slide manually via <code>translate()</code>; the result of this approach is that the "desktop"
CSS-based system of control is not compatible with this inlined manual positioning. Workarounds usually revolve around managing all effects,
transitions, etc. within the Javascript -- which always results in larger files sizes, more instantiation arguments and custom animation functions.</p>

<p>One architecture may work well for mobile, but is less than optimal on desktop; contrariwise, using CSS to position a slide works well on desktop
but is undermined by a native touch-UI paradigm.</p>

<h3>Solution</h3>
<p>Flexicarousel enables a touch-based interface (ie. sliding slides via dragging) while also respecting the separation of state and behaviour.
You can swipe to drag a slide yet still use CSS to control how the slide transitions will behave. You can also choose to change slides by
using the exposed API. The carousel works on both desktop and mobile, using only CSS to control the look and feel. The result is smaller
codebase while achieving the best of both approaches.</p>



<h2>Example</h2>

	<link rel="stylesheet" href="/css/flexicarousel/demo.css">
	<link rel="stylesheet" href="/css/flexicarousel/flexicarousel.css">

	<script src="/js/flexicarousel/jquery-1.11.0.min.js"></script>
	<script src="/js/flexicarousel/jquery.flexicarousel.min.js"></script>

	<h3>Sliding transition</h3>
	<div id="one" class="carousel slide">
		<ul class="wrap">
			<li class="active"><span>1</span><img src="http://lorempixel.com/800/480/nature/1" alt="" /></li>
			<li><span>2</span><img src="http://lorempixel.com/800/480/nature/2" alt="" /></li>
			<li><span>3</span><img src="http://lorempixel.com/800/480/nature/3" alt="" /></li>
			<li><span>4</span><img src="http://lorempixel.com/800/480/nature/4" alt="" /></li>
		</ul>

		<a href="#prev" class="prev" aria-hidden="true">Prev</a>
		<a href="#next" class="next" aria-hidden="true">Next</a>

		<nav class="indicators">
			<span class="active"></span>
			<span></span>
			<span></span>
			<span></span>
		</nav>
	</div>

	<hr />

	<h3>Fade transition</h3>
	<div id="two" class="carousel fade">
		<ul class="wrap">
			<li class="active"><span>1</span><img src="http://lorempixel.com/800/480/nature/1" alt="" /></li>
			<li><span>2</span><img src="http://lorempixel.com/800/480/nature/2" alt="" /></li>
			<li><span>3</span><img src="http://lorempixel.com/800/480/nature/3" alt="" /></li>
			<li><span>4</span><img src="http://lorempixel.com/800/480/nature/4" alt="" /></li>
		</ul>

		<a href="#prev" class="prev" aria-hidden="true">Prev</a>
		<a href="#next" class="next" aria-hidden="true">Next</a>
	</div>

	<hr />

	<h1>Multiple transitions (not infinite)</h1>
	<div id="three" class="carousel fade slide">
		<ul class="wrap">
			<li class="active"><span>1</span><img src="http://lorempixel.com/800/480/nature/1" alt="" /></li>
			<li><span>2</span><img src="http://lorempixel.com/800/480/nature/2" alt="" /></li>
			<li><span>3</span><img src="http://lorempixel.com/800/480/nature/3" alt="" /></li>
			<li><span>4</span><img src="http://lorempixel.com/800/480/nature/4" alt="" /></li>
		</ul>

		<a href="#prev" class="prev" aria-hidden="true">Prev</a>
		<a href="#next" class="next" aria-hidden="true">Next</a>
	</div>

	<hr />

	<h3>Tabs</h3>
	<div id="four" class="carousel tabs">
		<ul class="wrap">
			<li class="active"><span>1</span><img src="http://lorempixel.com/800/480/nature/1" alt="" /></li>
			<li><span>2</span><img src="http://lorempixel.com/800/480/nature/2" alt="" /></li>
			<li><span>3</span><img src="http://lorempixel.com/800/480/nature/3" alt="" /></li>
			<li><span>4</span><img src="http://lorempixel.com/800/480/nature/4" alt="" /></li>
		</ul>

		<nav>
			<div class="active">one</div>
			<div>two</div>
			<div>three</div>
			<div>four</div>
		</nav>
	</div>




	<script>

		// using jQuery
		$(function(){

			var bullets = $('#one .indicators span');
			var car1 = $('#one').carousel({
				beforeSlide: function() { bullets.removeClass() },
				afterSlide: function(i) { bullets.eq(i).addClass('active') }
			});

			$('#one .prev').click(function(e){
				e.preventDefault();
				car1.carousel('prev');
			});
			$('#one .next').click(function(e){
				e.preventDefault();
				car1.carousel('next');
			});

			$('nav span').each(function(i){
				$(this).click(function() {
					car1.carousel('go', i);
				});
			});

		});

		// ------------------------------------------------------------------
		// vanilla js

		var container2 = document.querySelector('#two');
		var car2 = new Carousel(container2);

		container2.querySelector('.prev').addEventListener('click', function(e){
			e.preventDefault();
			car2.prev();
		});

		container2.querySelector('.next').addEventListener('click', function(e){
			e.preventDefault();
			car2.next();
		});


		// ------------------------------------------------------------------
		// multiple transitions

		var container3 = document.querySelector('#three');
		var car3 = new Carousel(container3, {
			'infinite': false
		});

		container3.querySelector('.prev').addEventListener('click', function(e){
			e.preventDefault();
			car3.prev();
		});

		container3.querySelector('.next').addEventListener('click', function(e){
			e.preventDefault();
			car3.next();
		});


		// ------------------------------------------------------------------
		// tabs

		var tabs = $('#four nav div');
		var container4 = document.querySelector('#four');
		var car4 = new Carousel(container4);

		tabs.each(function(i){
			$(this).click(function() {
				car4.go(i);
				tabs.removeClass();
				tabs.eq(i).addClass('active');
			});
		});

	</script>


	<br />
	<br />
	<br />
	<br />
	<!-- web design at its finest, here -->
	<br />
	<br />
	<br />


<h2>Prereqs</h2>
<p>none</p>


<h2>Compatibility</h2>
<ul>
	<li>IE8+</li>
	<li>Firefox, Chrome, Opera</li>
	<li>iOS, Android</li>
</ul>

<h2>Code</h2>

{% highlight javascript %}

// using jQuery

var bullets = $('#one .indicators span');
var car1 = $('#one').carousel({
	beforeSlide: function() { bullets.removeClass() },
	afterSlide: function(i) { bullets.eq(i).addClass('active') }
});

$('#one .prev').click(function(e){
	e.preventDefault();
	car1.carousel('prev');
});
$('#one .next').click(function(e){
	e.preventDefault();
	car1.carousel('next');
});

$('nav span').each(function(i){
	$(this).click(function() {
		car1.carousel('go', i);
	});
});


// vanilla js

var container2 = document.querySelector('#two');
var car2 = new Carousel(container2);

container2.querySelector('.prev').addEventListener('click', function(e){
	e.preventDefault();
	car2.prev();
});

container2.querySelector('.next').addEventListener('click', function(e){
	e.preventDefault();
	car2.next();
});

{% endhighlight %}

<h2>Nitty Gritty Api Stuff</h2>

<h3>Options</h3>

<div class="table-responsive">
	<table class="table table-bordered table-striped">
		<thead>
			<tr>
				<th style="width: 100px;">Name</th>
				<th style="width: 50px;">type</th>
				<th style="width: 50px;">default</th>
				<th>description</th>
			</tr>
		</thead>
		<tbody>
			<tr>
				<td>activeClass</td>
				<td>string</td>
				<td>active</td>
				<td>Class to use on the active slide.</td>
			</tr>
			<tr>
				<td>beforeClass</td>
				<td>string</td>
				<td>before</td>
				<td>Class to use on the previous slide.</td>
			</tr>
			<tr>
				<td>afterClass</td>
				<td>string</td>
				<td>after</td>
				<td>Class to use on the next slide.</td>
			</tr>
			<tr>
				<td>slideWrap</td>
				<td>string</td>
				<td>.wrap</td>
				<td>The selector to use when searching for the slides' container. This is used only to bind touch events to, on mobile.</td>
			</tr>
			<tr>
				<td>slides</td>
				<td>string</td>
				<td>li</td>
				<td>The selector to use when searching for slides within the <code>slideWrap</code> container.</td>
			</tr>
			<tr>
				<td>infinite</td>
				<td>boolean</td>
				<td>true</td>
				<td>Enable infinite scrolling or not</td>
			</tr>
			<tr>
				<td>beforeSlide</td>
				<td>function</td>
				<td>undefined</td>
				<td>A function to execute before sliding.</td>
			</tr>
			<tr>
				<td>afterSlide</td>
				<td>function</td>
				<td>undefined</td>
				<td>A function to execute after sliding.</td>
			</tr>
			<tr>
				<td>noTouch</td>
				<td>boolean</td>
				<td>false</td>
				<td>if you'd like to disable the touch UI for whatever reason</td>
			</tr>

			</tr>
		</tbody>
	</table>
</div>


<h3>Methods</h3>

<h5>Next Slide</h5>
{% highlight javascript %}
carousel.next()
{% endhighlight %}

<h5>Previous Slide</h5>
{% highlight javascript %}
carousel.prev()
{% endhighlight %}

<h5>Go To Slide</h5>
{% highlight javascript %}
carousel.to(i)
{% endhighlight %}

<h3>Events</h3>

<div class="table-responsive">
	<table class="table table-bordered table-striped">
		<thead>
			<tr>
				<th style="width: 150px;">Event Type</th>
				<th>Description</th>
			</tr>
		</thead>
		<tbody>
			<tr>
				<td>beforeSlide</td>
				<td>This event fires immediately before transitioning to a different slide. It is passed <code>to</code> and <code>from</code> indices.</td>
			</tr>
			<tr>
				<td>afterSlide</td>
				<td>This event fires immediately after transitioning from a slide. It is passed the new <code>current</code> index.</td>
			</tr>
		</tbody>
	</table>
</div>











