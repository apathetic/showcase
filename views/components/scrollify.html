{% extends "/views/pages/component.html" %}

{% block component %}
    <section data-nav="About" id="about">
      <div class="container">
        <h2>About</h2>
        <p>Scrollify. Do things on scroll.</p>

        <h3>What sorts of things?</h3>
        <p>Well, whatever you want. Common effects such as parallax or toggling a class on/off are
          possible and bundled within. However, you may also easily create your own custom scroll
          function, and pass it in to Scrollify. The built-in effects include:<p>
        <ul class="bullets">
          <li><strong>Stick</strong>: sticks an element to a particular point and holds in there for a
            pre-defined number of pixels.</li>
          <li><strong>Parallax</strong>: move stuff on scroll. A subtle effect that transistions elements
            more slowly (or perhaps quickly) than the speed of the user-scroll.</li>
          <li><strong>Toggle</strong>: turn a CSS class on or off if the element crosses a particular
            threshold on the page.</li>
          <li><strong>Translate</strong>: translate an element along the X- or Y- axis.</li>
          <li><strong>Rotate</strong>: rotate an element via scroll.</li>
          <li><strong>Scale</strong>: scale an element.</li>
          <li><strong>Fade</strong>: change an element's opacity.</li>
        </ul>

        <h3>Notes</h3>
        <p>Scrollify works by first calculating an element's position in the page so that it may be
        manipulated on scroll. It is important to note that as the page loads, this position may jump
        around as the DOM is constructed and images are loaded, etc.  Therefore, it is important that
        Scrollify'd elements are not initialized until the page has finished loading all images and the
        DOM is stable.</p>

        <p>If you're trying to Scrollify an element whose position on the page is dependant on
        assets loading above of it, you may wish to use
        <code class="language-javascript">window.addEventListener('load', ...</code> rather than the more common
        <code class="language-javascript">window.addEventListener('DOMContentLoaded', ...</code>, OR check
        out the lovely <a href="https://github.com/desandro/imagesloaded">imagesloaded.js</a> plugin.


      </div>
    </section>

    <section data-nav="Demo" id="demo">
      <div class="container">
        <h2>Demo</h2>

        <p class="spacer stick-spacer">
          <span id="stick">
            <strong>Sticks!</strong> I'll hang around for <strong>300 px</strong>.
            Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod.
          </span>
        </p>

        <p> Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod
        tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam,
        quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo
        consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse
        cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non
        proident, sunt in culpa qui officia deserunt mollit anim id est laborum.</p>

        <div class="ref">
          <div class="parallax item" data-scrollify="['parallax', { range:400  }]"> 1 </div>
          <div class="parallax item" data-scrollify="['parallax', { range:200  }]"> 2 </div>
          <div class="parallax item" data-scrollify="['parallax', { range:0    }]"> 3 </div>
          <div class="parallax item" data-scrollify="['parallax', { range:-200 }]"> 4 </div>
          <div class="parallax item" data-scrollify="['parallax', { range:-400 }]"> 5 </div>
        </div>

        <p class="parallax" data-scrollify="['parallax', {range:-300}]">
          <span>
            Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod
            tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam,
            quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo
            consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse
            cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non
            proident, sunt in culpa qui officia deserunt mollit anim id est laborum.
          </span>
        </p>

        <p class="scrollify" id="transformer"><strong>This element is toggling various classes on and off. At 20%, 50%, and 70%.</strong> Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod
        tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam,
        quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo
        consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse
        cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non
        proident, sunt in culpa qui officia deserunt mollit anim id est laborum.</p>

        <p class="scrollify" data-scrollify="['rotate', {rad: Math.PI/4}]">Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod</p>
        <p class="scrollify" data-scrollify="['rotate', {rad: Math.PI/2}]">Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod</p>
        <p class="scrollify" data-scrollify="['rotate', {rad: Math.PI}]">Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod</p>
        <p class="scrollify" data-scrollify="['rotate', {rad: Math.PI*2}]">Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod</p>

        <div class="clip ref">
          <div class="parallax" data-scrollify="['parallax', { range:200 }]"></div>
        </div>

        <div class="clip ref">
          <div class="backwards parallax" data-scrollify="['parallax', { range:-200 }]"></div>
        </div>

        <p id="fader"><strong>Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod
        tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam,
        quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo
        consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse
        cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non
        proident, sunt in culpa qui officia deserunt mollit anim id est laborum.</p>


        <div id="sequence">
          <img src="{{ g.static('/assets/images/scrollify/seq/horse_01.jpg').url }}" style="opacity:1" alt="">
          <img src="{{ g.static('/assets/images/scrollify/seq/horse_02.jpg').url }}" alt="">
          <img src="{{ g.static('/assets/images/scrollify/seq/horse_03.jpg').url }}" alt="">
          <img src="{{ g.static('/assets/images/scrollify/seq/horse_04.jpg').url }}" alt="">
          <img src="{{ g.static('/assets/images/scrollify/seq/horse_05.jpg').url }}" alt="">
          <img src="{{ g.static('/assets/images/scrollify/seq/horse_06.jpg').url }}" alt="">
          <img src="{{ g.static('/assets/images/scrollify/seq/horse_07.jpg').url }}" alt="">
          <img src="{{ g.static('/assets/images/scrollify/seq/horse_08.jpg').url }}" alt="">
          <img src="{{ g.static('/assets/images/scrollify/seq/horse_09.jpg').url }}" alt="">
          <img src="{{ g.static('/assets/images/scrollify/seq/horse_10.jpg').url }}" alt="">
          <img src="{{ g.static('/assets/images/scrollify/seq/horse_11.jpg').url }}" alt="">
          <img src="{{ g.static('/assets/images/scrollify/seq/horse_12.jpg').url }}" alt="">
          <img src="{{ g.static('/assets/images/scrollify/seq/horse_13.jpg').url }}" alt="">
          <img src="{{ g.static('/assets/images/scrollify/seq/horse_14.jpg').url }}" alt="">
          <img src="{{ g.static('/assets/images/scrollify/seq/horse_15.jpg').url }}" alt="">
          <img src="{{ g.static('/assets/images/scrollify/seq/horse_16.jpg').url }}" alt="">
          <img src="{{ g.static('/assets/images/scrollify/seq/horse_17.jpg').url }}" alt="">
          <img src="{{ g.static('/assets/images/scrollify/seq/horse_18.jpg').url }}" alt="">
          <img src="{{ g.static('/assets/images/scrollify/seq/horse_19.jpg').url }}" alt="">
          <img src="{{ g.static('/assets/images/scrollify/seq/horse_20.jpg').url }}" alt="">
        </div>

      </div>
    </section>

    <section data-nav="Requirements" id="requirements">
      <div class="container">
        <h2>Requirements</h2>
        <p>None. Works fine without any frameworks.</p>
      </div>
    </section>

    <section data-nav="Compatibility" id="compatibility">
      <div class="container">
        <h2>Compatibility</h2>
        <ul class="bullets">
          <li>IE9+</li>
          <li>Firefox, Webkit, Opera</li>
        </ul>
      </div>
    </section>

    <section data-nav="Code" id="code">
      <div class="container">
        <h2>Code</h2>

        <pre><code class="language-javascript">
  // Create a "scene" where the effect(s) will be active:
  new Scrollify('#transformer')
    .addScene({
      'applyTransform': false,
      'effects': [{
        'name': toggle,
        'options': {
          0.2: 'red',
          0.5: 'blue',
          0.7: 'green'
        }
      }]
    });
        </code></pre>

        <pre><code class="language-javascript">
  // You can also chain multiple scenes together:
  new Scrollify('#multiple')
    .addScene({
      'start': 0.5,
      'applyTransform': false,
      'easing': oscillate,
      'effects': [{
        'name': fade,
        'options': {
          'to': 0
        }
      }]
    })
    .addScene({
      'start': 0.2,
      'easing': easeIn,
      'effects': [{
        'name': translateY,
        'options': {
          'to': 0
          'from': 400
        }
      }]
    });
        </code></pre>


        <pre><code class="language-javascript">
  // You can also just apply an effect directly, and Scrollify will
  // set you up with some default scene (ie start / stop) options.

  // Here's another way to get a reference to the element, and
  // we'll also define some effect options:
  var element = document.querySelector('.scrollify');
  var options = {
    speed: 0.2
  };

  // create a new Scrollify instance using a built-in effect, "parallax":
  new Scrollify(element).addEffect('parallax', options);
        </code></pre>

        <!-- OR: Scrollify.prototype.addEffect('rotate', function(data) { ...  }); -->
        <pre><code class="language-javascript">
  // You can also roll your own custom effect:
  new Scrollify('#custom')
    .addEffect(function(progress) {
      var degrees = 360 * progress;
      this.element.style.transform = 'rotate('+degrees+'deg)';
    });
        </code></pre>

        <p>All <strong>sticky</strong> elements are required to be wrapped in an empty "spacer" element. This wrapper
        element serves as a reference point for changes in position to the targeted element.</p>

        <pre><code class="language-markup">
  &lt;div class="ref">&lt;!-- the reference element -->
    &lt;img class="scrollify" src="photo.jpg">&lt;!-- target element -->
  &lt;/div>
        </code></pre>
      </div>
    </section>

    <section data-nav="Options" id="options">
      <div class="container">
        <h2>Options</h2>
        <table class="table table-bordered table-striped">
          <thead>
            <tr>
              <th style="width: 100px;">name</th>
              <th style="width: 50px;">type</th>
              <th>description</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td>el</td>
              <td>string</td>
              <td>selector (or HTMLElement) of thing to scroll-ify</td>
            </tr>
            </tr>
          </tbody>
        </table>
      </div>
    </section>

    <section data-nav="Methods" id="methods">
      <div class="container">
        <h2>Methods</h2>
        <table class="table table-bordered table-striped">
          <thead>
            <tr>
              <th style="width: 100px;">name</th>
              <th style="width: 50px;">arguments</th>
              <th>description</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td>addScene</td>
              <td>start, duration, effects</td>
              <td>              </td>
            </tr>
            <tr>
              <td>addEffect</td>
              <td>name(String|Function), options(Object)</td>
              <td>                </td>
            </tr>
          </tbody>
        </table>

      </div>
    </section>

  <script>
    // window.addEventListener('DOMContentLoaded', function() {
    window.addEventListener('load', function(event) {
      console.log('DOM ready; all assets loaded');

      // example #1. Stick something
      var stick = Scrollify.fx.stick;
      new Scrollify('#stick')                   // the element to target
        .addScene({                             // start / stop, duration etc. of the effect
          'start': 0.5,                         //   'start': when at 50% of the viewport
          'duration': 300,                      //   'duration': 300 pixels
          'effects': [{
            'name': stick                       // the effect to apply, and when (within the progress of the scene)
          }]
        });


      // example #2: toggling various classes on scroll
      var toggle = Scrollify.fx.toggle;
      new Scrollify('#transformer')
        .addScene({
          'applyTransform': false,
          'effects': [{
            'name': toggle,
            'options': {
              0.2: 'red',
              0.5: 'blue',
              0.7: 'green'
            }
          }]
        });


      // example #3. various transformation from the data- prop of each element
      var elements = document.querySelectorAll('[data-scrollify]');
      Array.prototype.forEach.call(elements, function(el) {
        var data = eval('(' + el.dataset.scrollify +')');
        var effect = data[0];
        var opts = data[1];
        var fx = Scrollify.fx[effect];

        new Scrollify(el).addEffect(fx, opts);
      });


      // sample "speed" based parallax (using % of window height)
      // var test = document.querySelector('.xxx');
      // new Scrollify(test)
      //  .addScene({
      //    'duration': window.innerHeight * 1.3 + 40,    // (40 is the element height)
      //    'effects': [{
      //      name: Scrollify.fx.parallax,
      //      options: {
      //        range: window.innerHeight * 0.3
      //      }
      //    }]
      //  });


      // example #4. Fade in and out a few times
      var fade = Scrollify.fx.fade;
      var easequad = Scrollify.easings.easeInOutQuad;
      var oscillate = Scrollify.easings.oscillate;
      new Scrollify('#fader')
        .addScene({
          'start': 0,
          'applyTransform': false,
          'easing': oscillate,
          'effects': [{
            'name': fade,
            'options': {
              'to': 0
            }
          }]
        });


      // example #5. build an Image Sequence!
      var images = document.querySelectorAll('#sequence img');
      var length = images.length - 1;
      var sequencer = function(progress) {
        var index = parseInt(progress * length);
        index = Math.min(length, Math.max(index, 0));
        Array.from(images, function(img) { img.style.opacity = 0; });
        images[index].style.opacity = 1;
      };

      new Scrollify('#sequence')
        .addScene({
          'start': 0.3,
          'duration': 600,
          // 'duration': function() { return window.innerHeight + 200 },
          // 'duration': function() { return window.innerHeight * 1.2 },    // "speed" of 0.2
          'effects': [
            { 'name': sequencer }
          ]
        });


    });
  </script>


{% endblock %}
